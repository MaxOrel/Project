{"version":3,"sources":["node_modules/browser-pack/_prelude.js","source/js/admin.js","source/js/prepareSend.js","source/js/sendAjax.js","source/js/upload.js"],"names":[],"mappings":"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","file":"../admin.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","//Загрузка картинки\r\n\r\nimport fileUpload from './upload';\r\nimport prepareSend from './prepareSend';\r\n\r\nconst formUpload = document.querySelector('#works');\r\nconst formBlog = document.querySelector('#blog');\r\nconst formSkills = document.querySelector('#skills');\r\n\r\nformUpload.addEventListener('submit', prepareSendFile);\r\nformBlog.addEventListener('submit', prepareSendPost);\r\nformSkills.addEventListener('submit', prepareSendSkills);\r\n\r\nfunction prepareSendFile(e) {\r\n    e.preventDefault();\r\n    let resultContainer = document.querySelector('#work-status');\r\n    let formData = new FormData();\r\n    let file = document\r\n        .querySelector('#file-select')\r\n        .files[0];\r\n    let name = document\r\n        .querySelector('#file-desc')\r\n        .value;\r\n    let teh = document\r\n        .querySelector('#file-teh')\r\n        .value;\r\n    let link = document\r\n        .querySelector('#file-link')\r\n        .value;\r\n    if(file) {\r\n        formData.append('photo', file, file.name);\r\n        formData.append('name', name);\r\n        formData.append('teh', teh);\r\n        formData.append('link', link);\r\n    }else{\r\n        resultContainer.innerHTML = 'Выберите файл';\r\n        return;\r\n    }\r\n    resultContainer.innerHTML = 'Загрузка...';\r\n    fileUpload('/admin.html/upload', formData, function (data) {\r\n        formUpload.reset();\r\n        resultContainer.innerHTML = data;\r\n    });\r\n}\r\n\r\nfunction prepareSendPost(e) {\r\n    e.preventDefault();\r\n    let data = {\r\n        title: formBlog.title.value,\r\n        date: formBlog.date.value,\r\n        text: formBlog.text.value\r\n    };\r\n    prepareSend('/admin.html/addpost', formBlog, data);\r\n}\r\n\r\nfunction prepareSendSkills(e) {\r\n    e.preventDefault();\r\n    let data = {};\r\n    const itemsElement = document.querySelectorAll('.admin-skills__title');\r\n    itemsElement.forEach(i => {\r\n        let inputs = i.parentNode.querySelectorAll('INPUT');\r\n        data[i.textContent] = [];\r\n        inputs.forEach(input => {\r\n            data[i.textContent].push({name: input.name, value: input.value });\r\n        });\r\n    });\r\n\r\n    prepareSend('/admin.html/update',formSkills, data);\r\n}\r\nconsole.log('admin run run');\r\n","import sendAjaxJson from './sendAjax';\r\n\r\nexport default function prepareSend(url, form, data, cb) {\r\n    let resultContainer = form.querySelector('.status');\r\n    resultContainer.innerHTML = 'Отправка...';\r\n    sendAjaxJson(url, data, function (data) {\r\n        form.reset();\r\n        resultContainer.innerHTML = data;\r\n        if (cb) {\r\n            cb(data);\r\n        }\r\n    });\r\n}","export default function sendMailData(url, data, cb) {\n  let xhr = new XMLHttpRequest();\n  xhr.open('POST', url, true);\n  xhr.setRequestHeader('Content-Type', 'application/json');\n  xhr.onload = function (e) {\n      let result;\n      try{\n        result = JSON.parse(xhr.responseText);\n      } catch(e){\n        cb('Извените в данных ошибка')\n      }\n      cb(result.status);\n  };\n  xhr.send(JSON.stringify(data));\n}","export default function (url, data, cb) {\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.open('POST', url, true);\r\n\r\n    xhr.onload = function (e) {\r\n        let result = JSON.parse(xhr.responseText);\r\n        cb(result.status);\r\n    };\r\n\r\n    xhr.send(data);\r\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2VcXGpzXFxhZG1pbi5qcyIsInNvdXJjZVxcanNcXHByZXBhcmVTZW5kLmpzIiwic291cmNlXFxqc1xcc2VuZEFqYXguanMiLCJzb3VyY2VcXGpzXFx1cGxvYWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0VBOzs7O0FBQ0E7Ozs7OztBQUhBOztBQUtBLElBQU0sYUFBYSxTQUFTLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBbkI7QUFDQSxJQUFNLFdBQVcsU0FBUyxhQUFULENBQXVCLE9BQXZCLENBQWpCO0FBQ0EsSUFBTSxhQUFhLFNBQVMsYUFBVCxDQUF1QixTQUF2QixDQUFuQjs7QUFFQSxXQUFXLGdCQUFYLENBQTRCLFFBQTVCLEVBQXNDLGVBQXRDO0FBQ0EsU0FBUyxnQkFBVCxDQUEwQixRQUExQixFQUFvQyxlQUFwQztBQUNBLFdBQVcsZ0JBQVgsQ0FBNEIsUUFBNUIsRUFBc0MsaUJBQXRDOztBQUVBLFNBQVMsZUFBVCxDQUF5QixDQUF6QixFQUE0QjtBQUN4QixNQUFFLGNBQUY7QUFDQSxRQUFJLGtCQUFrQixTQUFTLGFBQVQsQ0FBdUIsY0FBdkIsQ0FBdEI7QUFDQSxRQUFJLFdBQVcsSUFBSSxRQUFKLEVBQWY7QUFDQSxRQUFJLE9BQU8sU0FDTixhQURNLENBQ1EsY0FEUixFQUVOLEtBRk0sQ0FFQSxDQUZBLENBQVg7QUFHQSxRQUFJLE9BQU8sU0FDTixhQURNLENBQ1EsWUFEUixFQUVOLEtBRkw7QUFHQSxRQUFJLE1BQU0sU0FDTCxhQURLLENBQ1MsV0FEVCxFQUVMLEtBRkw7QUFHQSxRQUFJLE9BQU8sU0FDTixhQURNLENBQ1EsWUFEUixFQUVOLEtBRkw7QUFHQSxRQUFHLElBQUgsRUFBUztBQUNMLGlCQUFTLE1BQVQsQ0FBZ0IsT0FBaEIsRUFBeUIsSUFBekIsRUFBK0IsS0FBSyxJQUFwQztBQUNBLGlCQUFTLE1BQVQsQ0FBZ0IsTUFBaEIsRUFB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QUFzQixJQUF0Qjs7QUFFQSxRQUFJLE1BQUosR0FBYSxVQUFVLENBQVYsRUFBYTtBQUN0QixZQUFJLFNBQVMsS0FBSyxLQUFMLENBQVcsSUFBSSxZQUFmLENBQWI7QUFDQSxXQUFHLE9BQU8sTUFBVjtBQUNILEtBSEQ7O0FBS0EsUUFBSSxJQUFKLENBQVMsSUFBVDtBQUNILEMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLy/Ql9Cw0LPRgNGD0LfQutCwINC60LDRgNGC0LjQvdC60LhcclxuXHJcbmltcG9ydCBmaWxlVXBsb2FkIGZyb20gJy4vdXBsb2FkJztcclxuaW1wb3J0IHByZXBhcmVTZW5kIGZyb20gJy4vcHJlcGFyZVNlbmQnO1xyXG5cclxuY29uc3QgZm9ybVVwbG9hZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3b3JrcycpO1xyXG5jb25zdCBmb3JtQmxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNibG9nJyk7XHJcbmNvbnN0IGZvcm1Ta2lsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2tpbGxzJyk7XHJcblxyXG5mb3JtVXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHByZXBhcmVTZW5kRmlsZSk7XHJcbmZvcm1CbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHByZXBhcmVTZW5kUG9zdCk7XHJcbmZvcm1Ta2lsbHMuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgcHJlcGFyZVNlbmRTa2lsbHMpO1xyXG5cclxuZnVuY3Rpb24gcHJlcGFyZVNlbmRGaWxlKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCByZXN1bHRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd29yay1zdGF0dXMnKTtcclxuICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgbGV0IGZpbGUgPSBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcjZmlsZS1zZWxlY3QnKVxyXG4gICAgICAgIC5maWxlc1swXTtcclxuICAgIGxldCBuYW1lID0gZG9jdW1lbnRcclxuICAgICAgICAucXVlcnlTZWxlY3RvcignI2ZpbGUtZGVzYycpXHJcbiAgICAgICAgLnZhbHVlO1xyXG4gICAgbGV0IHRlaCA9IGRvY3VtZW50XHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJyNmaWxlLXRlaCcpXHJcbiAgICAgICAgLnZhbHVlO1xyXG4gICAgbGV0IGxpbmsgPSBkb2N1bWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKCcjZmlsZS1saW5rJylcclxuICAgICAgICAudmFsdWU7XHJcbiAgICBpZihmaWxlKSB7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwaG90bycsIGZpbGUsIGZpbGUubmFtZSk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCduYW1lJywgbmFtZSk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0ZWgnLCB0ZWgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbGluaycsIGxpbmspO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmVzdWx0Q29udGFpbmVyLmlubmVySFRNTCA9ICfQktGL0LHQtdGA0LjRgtC1INGE0LDQudC7JztcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICByZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gJ9CX0LDQs9GA0YPQt9C60LAuLi4nO1xyXG4gICAgZmlsZVVwbG9hZCgnL2FkbWluLmh0bWwvdXBsb2FkJywgZm9ybURhdGEsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgZm9ybVVwbG9hZC5yZXNldCgpO1xyXG4gICAgICAgIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmVTZW5kUG9zdChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBsZXQgZGF0YSA9IHtcclxuICAgICAgICB0aXRsZTogZm9ybUJsb2cudGl0bGUudmFsdWUsXHJcbiAgICAgICAgZGF0ZTogZm9ybUJsb2cuZGF0ZS52YWx1ZSxcclxuICAgICAgICB0ZXh0OiBmb3JtQmxvZy50ZXh0LnZhbHVlXHJcbiAgICB9O1xyXG4gICAgcHJlcGFyZVNlbmQoJy9hZG1pbi5odG1sL2FkZHBvc3QnLCBmb3JtQmxvZywgZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZXBhcmVTZW5kU2tpbGxzKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGxldCBkYXRhID0ge307XHJcbiAgICBjb25zdCBpdGVtc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWRtaW4tc2tpbGxzX190aXRsZScpO1xyXG4gICAgaXRlbXNFbGVtZW50LmZvckVhY2goaSA9PiB7XHJcbiAgICAgICAgbGV0IGlucHV0cyA9IGkucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdJTlBVVCcpO1xyXG4gICAgICAgIGRhdGFbaS50ZXh0Q29udGVudF0gPSBbXTtcclxuICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIGRhdGFbaS50ZXh0Q29udGVudF0ucHVzaCh7bmFtZTogaW5wdXQubmFtZSwgdmFsdWU6IGlucHV0LnZhbHVlIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcHJlcGFyZVNlbmQoJy9hZG1pbi5odG1sL3VwZGF0ZScsZm9ybVNraWxscywgZGF0YSk7XHJcbn1cclxuY29uc29sZS5sb2coJ2FkbWluIHJ1biBydW4nKTtcclxuIiwiaW1wb3J0IHNlbmRBamF4SnNvbiBmcm9tICcuL3NlbmRBamF4JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHByZXBhcmVTZW5kKHVybCwgZm9ybSwgZGF0YSwgY2IpIHtcclxuICAgIGxldCByZXN1bHRDb250YWluZXIgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMnKTtcclxuICAgIHJlc3VsdENvbnRhaW5lci5pbm5lckhUTUwgPSAn0J7RgtC/0YDQsNCy0LrQsC4uLic7XHJcbiAgICBzZW5kQWpheEpzb24odXJsLCBkYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGZvcm0ucmVzZXQoKTtcclxuICAgICAgICByZXN1bHRDb250YWluZXIuaW5uZXJIVE1MID0gZGF0YTtcclxuICAgICAgICBpZiAoY2IpIHtcclxuICAgICAgICAgICAgY2IoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZW5kTWFpbERhdGEodXJsLCBkYXRhLCBjYikge1xuICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIHhoci5vcGVuKCdQT1NUJywgdXJsLCB0cnVlKTtcbiAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbGV0IHJlc3VsdDtcbiAgICAgIHRyeXtcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGNiKCfQmNC30LLQtdC90LjRgtC1INCyINC00LDQvdC90YvRhSDQvtGI0LjQsdC60LAnKVxuICAgICAgfVxuICAgICAgY2IocmVzdWx0LnN0YXR1cyk7XG4gIH07XG4gIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodXJsLCBkYXRhLCBjYikge1xyXG4gICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xyXG5cclxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgIGNiKHJlc3VsdC5zdGF0dXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICB4aHIuc2VuZChkYXRhKTtcclxufSJdfQ=="}